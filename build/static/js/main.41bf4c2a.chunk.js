(window["webpackJsonpjam-booker"]=window["webpackJsonpjam-booker"]||[]).push([[0],[,,,,,,,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/jamroom1.6984cb0e.jpg"},function(e,t,a){e.exports=a.p+"static/media/jamroom2.6e143cda.jpg"},function(e,t,a){e.exports=a.p+"static/media/jamroom3.279303f0.jpg"},function(e,t,a){e.exports=a.p+"static/media/jamroom4.092582dc.jpg"},function(e,t,a){e.exports={Input:"Input_Input__2jLrh",Label:"Input_Label__2VHlP",InputElement:"Input_InputElement__-ID3I",Invalid:"Input_Invalid__2HokP"}},,,,function(e,t,a){e.exports={Button:"Button_Button__38UD8",Success:"Button_Success__BuRn2",Danger:"Button_Danger__3sRFy"}},,,,,,,,,,,function(e,t,a){},,function(e,t,a){e.exports=a.p+"static/media/logo.cb71e953.jpg"},,,function(e,t,a){e.exports=a.p+"static/media/sound.11ef9264.png"},,function(e,t,a){e.exports=a.p+"static/media/enter-sandman.be6b9a35.mp4"},function(e,t,a){e.exports=a.p+"static/media/cables.a654a6e3.jpg"},function(e,t,a){e.exports=a.p+"static/media/console.3e0c4371.jpg"},function(e,t,a){e.exports=a.p+"static/media/drums.e32ba36f.jpg"},function(e,t,a){e.exports=a.p+"static/media/amplifier.c1b641bf.jpg"},function(e,t,a){e.exports=a.p+"static/media/cables.0d4decaa.jpg"},function(e,t,a){e.exports=a.p+"static/media/console.ccb075b1.jpg"},function(e,t,a){e.exports=a.p+"static/media/drums.d5a42c83.jpg"},function(e,t,a){e.exports=a.p+"static/media/amplifier.15593120.jpg"},function(e,t,a){e.exports=a.p+"static/media/cables.1b7c978a.jpg"},function(e,t,a){e.exports=a.p+"static/media/console.07b8ed0a.jpg"},function(e,t,a){e.exports=a.p+"static/media/drums.a2a685d8.jpg"},function(e,t,a){e.exports=a.p+"static/media/amplifier.7bd7105a.jpg"},function(e,t,a){e.exports=a.p+"static/media/cables.24e33375.jpg"},function(e,t,a){e.exports=a.p+"static/media/console.51de2fb1.jpg"},function(e,t,a){e.exports=a.p+"static/media/drums.4a678ee4.jpg"},function(e,t,a){e.exports=a.p+"static/media/amplifier.571b2fc8.jpg"},function(e,t,a){e.exports=a(108)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,,,,,,,,,,,,,function(e,t,a){},function(e,t){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(37),c=a.n(o),i=(a(65),a(2)),l=a(3),s=a(5),u=a(4),m=a(6),p=(a(66),a(67),a(38)),d=a.n(p),f=(a(68),a(7)),h=function(){return r.a.createElement("div",{className:"logo-wrapper"},r.a.createElement(f.b,{className:"logo",to:"/"},r.a.createElement("img",{src:d.a,alt:"MyBurger"})),r.a.createElement(f.b,{className:"logo-text",to:"/"},"Jammer \\m/"))},g=(a(74),a(75),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={drop:!1},a.dropClickHandler=function(){a.setState(function(e){return{drop:!e.drop}})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props.links)}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"dropWrap",onClick:this.dropClickHandler},r.a.createElement("span",{className:"dropBrowse"},"Browse"),r.a.createElement("ul",{className:"navDrop"},this.props.links.map(function(t){return r.a.createElement(f.b,{to:t.value,key:t.name},r.a.createElement("li",{className:e.state.drop?"drop":"dontDrop"},t.name))}))))}}]),t}(r.a.Component)),v=function(e){var t=r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(f.b,{to:"/search"},"Search")),r.a.createElement("li",{onClick:e.authChange},r.a.createElement(f.b,{to:"/"},"Logout")));return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"NavItems"},r.a.createElement("li",null,r.a.createElement(f.b,{to:"/"},"Home")),e.isAuth?t:r.a.createElement("li",{onClick:e.authChange},r.a.createElement(f.b,{to:"/auth/signup"},"Sign up"))),r.a.createElement(g,e))},b=function(e){return r.a.createElement("header",{className:e.scroll?"toolbar scroll":"toolbar"},r.a.createElement(h,null),r.a.createElement(v,e))},j=(a(76),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={links:[{name:"Home",value:"/"},{name:"Jampads",value:"/jam-pads"},{name:"Bookings",value:"/bookings"}],isAuth:!1,scroll:!1},a.dropClickHandler=function(e,t){console.log(e.target.value),window.location.href=e.target.value},a.checkAuth=function(){localStorage.getItem("token")&&localStorage.getItem("user_id")&&a.setState({isAuth:!0})},a.handleScroll=function(e){var t=window.pageYOffset;t>25&&!0!==a.state.scroll?a.setState({scroll:!0}):t<25&&!1!==a.state.scroll&&a.setState({scroll:!1})},a.authChangeHandler=function(e){console.log(e.target.value),console.log(e.target.innerText),"Logout"===e.target.innerText&&a.setState({isAuth:!1}),localStorage.removeItem("token"),localStorage.removeItem("expiryDate"),localStorage.removeItem("user_id")},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){localStorage.getItem("token")&&localStorage.getItem("user_id")&&this.setState({isAuth:!0})}},{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.handleScroll),window.addEventListener("mousemove",this.checkAuth)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll)}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(b,{scroll:this.state.scroll,click:function(t){return e.dropClickHandler(t)},links:this.state.links,isAuth:this.state.isAuth,authChange:this.authChangeHandler}),r.a.createElement("main",{className:"main"},this.props.children))}}]),t}(n.Component)),E=a(13),y=a(12),k=(a(77),a(78),function(e){var t=r.a.createRef();return r.a.createElement("div",{className:"videoWrap"},r.a.createElement("div",{className:"slogan"},r.a.createElement("p",null,"Jams on you,"),r.a.createElement("p",null,"The lowest price on us")),r.a.createElement("div",{className:"popular"},r.a.createElement("p",null,"Popular on Jam Booker")),r.a.createElement("img",{onClick:function(a){return e.click(a,t)},className:e.isMuted?"sound":"sound muted",alt:"sound Button",src:e.sound}),r.a.createElement("video",{className:"video",autoPlay:!0,muted:!0,loop:!0,src:e.src,ref:t}))}),O=a(41),_=a.n(O),w=(a(79),a(80),function(e){return r.a.createElement(r.a.Fragment,null,e.cards.map(function(e){return r.a.createElement("div",{key:e.location,className:"Jamcard"},r.a.createElement("img",{alt:"jamroom",src:e.pic}),r.a.createElement("span",{className:"name"},e.name),r.a.createElement("span",{className:"location"},e.location),r.a.createElement("span",{className:"price"},"Price range ",e.price))}))}),S=function(e){return r.a.createElement("div",{className:"Cardwrap"},r.a.createElement(w,{cards:e.cards}))},N=(a(81),a(42)),C=a.n(N).a.create({baseURL:"https://jammer-server.herokuapp.com"}),x=a(17),P=a.n(x),I=a(18),A=a.n(I),D=a(19),B=a.n(D),H=a(20),L=a.n(H),T=a(43),z=a.n(T);function q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function V(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?q(a,!0).forEach(function(t){Object(y.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):q(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var F=[P.a,A.a,B.a,L.a],J=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={jampads:[],muted:!1},a.soundClickHandler=function(e,t){a.setState(function(e){return{muted:!e.muted}}),t.current.muted=a.state.muted},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;C.get("/jamcards").then(function(t){var a=[];for(var n in t.data.jamcards)a.push(V({},t.data.jamcards[n],{pic:F[n],id:n}));e.setState({jampads:a})}).catch(function(e){return console.log("error!!!",e)})}},{key:"render",value:function(){return r.a.createElement("div",{className:"home"},r.a.createElement(k,{isMuted:this.state.muted,click:this.soundClickHandler,src:z.a,sound:_.a}),r.a.createElement(S,{cards:this.state.jampads}))}}]),t}(n.Component),M=(a(99),a(100),a(101),a(102),function(e){return r.a.createElement(r.a.Fragment,null,e.jampads.map(function(t){return r.a.createElement("div",{onClick:function(){return e.click(t.name,t.price)},key:t.location,className:"jamcard"},r.a.createElement("img",{alt:"jamroom",src:t.pic}),r.a.createElement("span",{className:"name"},t.name),r.a.createElement("span",{className:"location"},t.location),r.a.createElement("span",{className:"price"},"Price /hr : ",t.price))}))}),W=function(e){return r.a.createElement("div",{className:"searchwrap"},r.a.createElement(M,e))},$=(a(103),function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"searchw"},r.a.createElement("input",{className:"searchbox",type:"text",id:"myInput",onChange:e.change,placeholder:"Search for jamrooms..",title:"Type in a name"}),r.a.createElement("ul",{className:"drop"},e.filt.map(function(e){return r.a.createElement("li",{key:e.id},e.name)}))))}),R=a(15),Y=(a(104),a(105),function(e){return r.a.createElement("div",{className:"equipments"},r.a.createElement(r.a.Fragment,null,e.equipment.map(function(e){return r.a.createElement("div",{key:e.id,className:"details"},e.id," : ",e.key)})),r.a.createElement("br",null),r.a.createElement("div",{className:"details"},"Total Price: ",e.total_price),r.a.createElement("br",null),r.a.createElement("div",{onClick:e.click,className:"book"},"Book"))}),U=(a(106),function(e){var t=["9am-10am","10am-11am","11am-12pm","12pm-1pm","1pm-2pm","2pm-3pm","3pm-4pm","4pm-5pm","5pm-6pm","6pm-7pm","7pm-8pm","8pm-9pm"];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"slotwrap"},e.slots.map(function(a,n){var o;return o="open"===a?"slot_green":"booked"===a?"slot_booked":"slot_red",r.a.createElement(r.a.Fragment,{key:n},r.a.createElement("div",{key:n,className:"time"},t[n],r.a.createElement("div",null),r.a.createElement("div",{onClick:function(){return e.click(n)},key:n,className:o},a)))})))}),G=(a(107),function(e){return r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"confirmbox"},r.a.createElement("div",null,"Confirm Booking?"),r.a.createElement("div",{className:"btn_wrap"},r.a.createElement("div",{onClick:e.confirm_click,className:"confirm"},"Confirm"),r.a.createElement("div",{onClick:e.cancel_click,className:"cancel"},"Cancel")),r.a.createElement("div",null,"Total Price : ",e.total_price)))}),K=a(44),Q=a.n(K),X=a(45),Z=a.n(X),ee=a(46),te=a.n(ee),ae=a(47),ne=a.n(ae),re=a(48),oe=a.n(re),ce=a(49),ie=a.n(ce),le=a(50),se=a.n(le),ue=a(51),me=a.n(ue),pe=a(52),de=a.n(pe),fe=a(53),he=a.n(fe),ge=a(54),ve=a.n(ge),be=a(55),je=a.n(be),Ee=a(56),ye=a.n(Ee),ke=a(57),Oe=a.n(ke),_e=a(58),we=a.n(_e),Se=a(59),Ne=a.n(Se),Ce=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={equipment:[],total_price:0,pics:[],BJ:[Q.a,Z.a,te.a,ne.a],AS:[oe.a,ie.a,se.a,me.a],BBH:[de.a,he.a,ve.a,je.a],AA:[ye.a,Oe.a,we.a,Ne.a],pic_src:[],slots:[],confirm_booking:!1},a.slot_click_handler=function(e){var t=Object(R.a)(a.state.slots);"open"===t[e]?t[e]="booked":"booked"===t[e]&&(t[e]="open");var n=t.filter(function(e){return"booked"===e}).length;a.setState({slots:t,total_price:n*a.props.price})},a.confirm_booking_handler=function(){a.state.total_price>0&&a.setState(function(e){return{confirm_booking:!e.confirm_booking}})},a.send_booking_handler=function(){var e=localStorage.getItem("token"),t={slots:a.state.slots,room_name:a.props.room_name};C.put("/book",t,{headers:{Authorization:"Bearer "+e}}).then(function(e){var t=Object.keys(e.data.rows[0].slots).map(function(t){return e.data.rows[0].slots[t]});a.setState({slots:t}),a.confirm_booking_handler()})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("token");C.get("/room_details?room_name="+this.props.room_name,{headers:{Authorization:"Bearer "+t}}).then(function(t){var a=[];if("Bread and Jaam"===e.props.room_name){var n=Object(R.a)(e.state.BJ);e.setState({pic_src:n})}else if("Astral Studios"===e.props.room_name){var r=Object(R.a)(e.state.AS);e.setState({pic_src:r})}else if("Boom Box House"===e.props.room_name){var o=Object(R.a)(e.state.BBH);e.setState({pic_src:o})}else if("Audio Academy"===e.props.room_name){var c=Object(R.a)(e.state.AA);e.setState({pic_src:c})}for(var i in t.data.equipment)a.push({key:t.data.equipment[i],id:i});e.setState({equipment:a})}).catch(function(e){return console.log("error!!!",e)}),C.get("/slots?room_name="+this.props.room_name,{headers:{Authorization:"Bearer "+t}}).then(function(t){var a=Object.keys(t.data.slots).map(function(e){return t.data.slots[e]});e.setState({slots:a})}).catch(function(e){return console.log("error!!!",e)})}},{key:"render",value:function(){var e;return this.state.confirm_booking&&(e=r.a.createElement(G,{confirm_click:this.send_booking_handler,cancel_click:this.confirm_booking_handler,total_price:this.state.total_price})),r.a.createElement("div",{className:"details_wrap"},r.a.createElement("p",null,this.props.room_name),r.a.createElement("div",{className:"img1_wrapper"},r.a.createElement("img",{src:this.state.pic_src[0],alt:"cables",className:"img"}),r.a.createElement("img",{src:this.state.pic_src[1],alt:"console",className:"img"})),r.a.createElement("div",{className:"img2_wrapper"},r.a.createElement("img",{src:this.state.pic_src[2],alt:"drums",className:"img"}),r.a.createElement("img",{src:this.state.pic_src[3],alt:"amplifier",className:"img"})),r.a.createElement(Y,Object.assign({click:this.confirm_booking_handler,total_price:this.state.total_price},this.props,{equipment:this.state.equipment})),r.a.createElement(U,{click:this.slot_click_handler,slots:this.state.slots}),e)}}]),t}(r.a.Component);function xe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Pe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?xe(a,!0).forEach(function(t){Object(y.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):xe(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Ie=[P.a,A.a,B.a,L.a],Ae=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={jam_pad:null,jampads:[],price:null,search_filter:[]},a.rent_click_handler=function(e,t){console.log("clicked!"),a.setState({jam_pad:e,price:t},function(){console.log(a.state.jam_pad),console.log(a.props.match.url+"/"+e),a.props.history.push(a.props.match.url+"/"+e)})},a.searchbox_hander=function(e){console.log(a.state.jampads);var t=a.state.jampads.filter(function(t){if(t.name.toLowerCase().includes(e.target.value.toLowerCase()))return t.name});""==e.target.value?a.setState({search_filter:[]}):a.setState({search_filter:t})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("token");this.backListener=this.props.history.listen(function(t){"/search"==e.props.history.location.pathname&&e.setState({jam_pad:null})}),C.get("/search",{headers:{Authorization:"Bearer "+t}}).then(function(t){var a=[];for(var n in t.data.jamcards)a.push(Pe({},t.data.jamcards[n],{pic:Ie[n],id:n}));e.setState({jampads:a})}).catch(function(e){return console.log("error!!!",e)})}},{key:"render",value:function(){var e,t=this;return this.state.jam_pad||(e=r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Available jam rooms for rent"),r.a.createElement($,{filt:this.state.search_filter,change:this.searchbox_hander,jampads:this.state.jampads}),r.a.createElement(W,{click:this.rent_click_handler,jampads:this.state.jampads}))),r.a.createElement("div",{className:"Search"},e,r.a.createElement(E.a,{path:this.props.match.url+"/"+this.state.jam_pad,render:function(e){return r.a.createElement(Ce,{price:t.state.price,room_name:t.state.jam_pad})}}))}}]),t}(r.a.Component),De=a(21),Be=a.n(De),He=function(e){var t=null,a=[Be.a.InputElement],n=null;switch(e.invalid&&e.shouldValidate&&e.touched&&(a.push(Be.a.Invalid),n=r.a.createElement("p",null,"Please enter a valid value!")),e.elementType){case"input":t=r.a.createElement("input",Object.assign({onChange:e.changed,className:a.join(" ")},e.elementConfig,{value:e.value}));break;case"textarea":t=r.a.createElement("textarea",Object.assign({onChange:e.changed,className:a.join(" ")},e.elementConfig,{value:e.value}));break;case"select":t=r.a.createElement("select",{onChange:e.changed,className:a.join(" "),value:e.value},e.elementConfig.options.map(function(e){return r.a.createElement("option",{key:e.value,value:e.value}," ",e.displayValue)}));break;default:t=r.a.createElement("input",Object.assign({className:a.join(" ")},e.elementConfig,{value:e.value}))}return r.a.createElement("div",{className:Be.a.Input},t,n)},Le=a(25),Te=a.n(Le),ze=function(e){return r.a.createElement("button",{onClick:e.clicked,disabled:e.disabled,className:[Te.a.Button,Te.a[e.btnType]].join(" ")},e.children)};a(36);function qe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Ve(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?qe(a,!0).forEach(function(t){Object(y.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):qe(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Fe=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={controls:{email:{elementType:"input",elementConfig:{type:"email",placeholder:"Your email"},value:"",validation:{required:!0,isEmail:!0},valid:!1,touched:!1},password:{elementType:"input",elementConfig:{type:"password",placeholder:"Password"},value:"",validation:{required:!0,minLength:6},valid:!1,touched:!1}},formIsValid:!1},a.checkValidity=function(e,t){var a=!0;if(t.required&&(a=""!==e.trim()&&a),t.minLength&&(a=e.length>=t.minLength&&a),t.maxLength&&(a=e.length<=t.minLength&&a),t.isEmail){a=/[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(e)&&a}return a},a.inputChangedHandler=function(e,t){var n=Ve({},a.state.controls,Object(y.a)({},t,Ve({},a.state.controls[t],{value:e.target.value,valid:a.checkValidity(e.target.value,a.state.controls[t].validation),touched:!0}))),r=!0;for(var o in n)r=n[o].valid&&r;a.setState({controls:n,formIsValid:r})},a.swicthAuthHandler=function(){a.props.history.push("/auth/signup")},a.formSubmitHandler=function(e){e.preventDefault();var t={email:a.state.controls.email.value,password:a.state.controls.password.value};console.log("calling signin"),C.post("/auth/signin",t).then(function(e){localStorage.setItem("token",e.data.token),localStorage.setItem("user_id",e.data.user_id);localStorage.setItem("expiryDate",36e5),a.setAutoLogout(36e5),console.log("signin complete",e),a.props.history.replace("/")}).catch(function(e){return console.log("Sign in failed!")})},a.setAutoLogout=function(e){setTimeout(function(){a.logoutHandler()},e)},a.logoutHandler=function(){a.setState({isAuth:!1,token:null}),localStorage.removeItem("token"),localStorage.removeItem("expiryDate"),localStorage.removeItem("user_id")},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=[];for(var a in this.state.controls)t.push({id:a,config:this.state.controls[a]});var n=t.map(function(t){return r.a.createElement(He,{changed:function(a){return e.inputChangedHandler(a,t.id)},key:t.id,elementType:t.config.elementType,elementConfig:t.config.elementConfig,value:t.config.value,invalid:!t.config.valid,shouldValidate:t.config.validation,touched:t.config.touched})});return r.a.createElement("div",{className:"Auth"},r.a.createElement("form",{onSubmit:this.formSubmitHandler},n,r.a.createElement(ze,{btnType:"Success",disabled:!this.state.formIsValid},"Login"),r.a.createElement(ze,{btnType:"Danger",clicked:this.swicthAuthHandler},"Sign up instead?")))}}]),t}(r.a.Component);function Je(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Me(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Je(a,!0).forEach(function(t){Object(y.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Je(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var We=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={controls:{name:{elementType:"input",elementConfig:{type:"text",placeholder:"Your Name"},value:"",validation:{required:!0},valid:!1,touched:!1},email:{elementType:"input",elementConfig:{type:"email",placeholder:"Your email"},value:"",validation:{required:!0,isEmail:!0},valid:!1,touched:!1},password:{elementType:"input",elementConfig:{type:"password",placeholder:"Password"},value:"",validation:{required:!0,minLength:6},valid:!1,touched:!1}},formIsValid:!1},a.checkValidity=function(e,t){var a=!0;if(t.required&&(a=""!==e.trim()&&a),t.minLength&&(a=e.length>=t.minLength&&a),t.maxLength&&(a=e.length<=t.minLength&&a),t.isEmail){a=/[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(e)&&a}return a},a.inputChangedHandler=function(e,t){var n=Me({},a.state.controls,Object(y.a)({},t,Me({},a.state.controls[t],{value:e.target.value,valid:a.checkValidity(e.target.value,a.state.controls[t].validation),touched:!0}))),r=!0;for(var o in n)r=n[o].valid&&r;a.setState({controls:n,formIsValid:r})},a.formSubmitHandler=function(e){e.preventDefault();var t={name:a.state.controls.name.value,email:a.state.controls.email.value,password:a.state.controls.password.value};console.log("calling signup"),C.put("/auth/signup",t).then(function(e){a.props.history.replace("/auth/signin")}).catch(function(e){return console.log("Sign up failed!")})},a.swicthAuthHandler=function(){a.props.history.push("/auth/signin")},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=[];for(var a in this.state.controls)t.push({id:a,config:this.state.controls[a]});var n=t.map(function(t){return r.a.createElement(He,{changed:function(a){return e.inputChangedHandler(a,t.id)},key:t.id,elementType:t.config.elementType,elementConfig:t.config.elementConfig,value:t.config.value,invalid:!t.config.valid,shouldValidate:t.config.validation,touched:t.config.touched})});return r.a.createElement("div",{className:"Auth"},r.a.createElement("form",{onSubmit:this.formSubmitHandler},n,r.a.createElement(ze,{btnType:"Success",disabled:!this.state.formIsValid},"Signup"),r.a.createElement(ze,{btnType:"Danger",clicked:this.swicthAuthHandler},"Sign in instead?")))}}]),t}(r.a.Component),$e=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(j,null,r.a.createElement(E.a,{path:"/",exact:!0,component:J}),r.a.createElement(E.a,{path:"/auth/signup",exact:!0,component:We}),r.a.createElement(E.a,{path:"/auth/signin",exact:!0,component:Fe}),r.a.createElement(E.a,{path:"/search",component:Ae})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Re=r.a.createElement(f.a,null,r.a.createElement($e,null));c.a.render(Re,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[60,1,2]]]);
//# sourceMappingURL=main.41bf4c2a.chunk.js.map