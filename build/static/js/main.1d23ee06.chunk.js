(window["webpackJsonpjam-booker"]=window["webpackJsonpjam-booker"]||[]).push([[0],[,,,,,,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/jamroom1.6984cb0e.jpg"},function(e,t,a){e.exports=a.p+"static/media/jamroom2.6e143cda.jpg"},function(e,t,a){e.exports=a.p+"static/media/jamroom3.279303f0.jpg"},function(e,t,a){e.exports=a.p+"static/media/jamroom4.092582dc.jpg"},function(e,t,a){e.exports={Input:"Input_Input__2jLrh",Label:"Input_Label__2VHlP",InputElement:"Input_InputElement__-ID3I",Invalid:"Input_Invalid__2HokP"}},,,,function(e,t,a){e.exports={Button:"Button_Button__38UD8",Success:"Button_Success__BuRn2",Danger:"Button_Danger__3sRFy"}},,,,,,,,,,,function(e,t,a){},,function(e,t,a){e.exports=a.p+"static/media/logo.cb71e953.jpg"},,,function(e,t,a){e.exports=a.p+"static/media/sound.11ef9264.png"},,function(e,t,a){e.exports=a.p+"static/media/enter-sandman.be6b9a35.mp4"},function(e,t,a){e.exports=a.p+"static/media/cables.a654a6e3.jpg"},function(e,t,a){e.exports=a.p+"static/media/console.3e0c4371.jpg"},function(e,t,a){e.exports=a.p+"static/media/drums.e32ba36f.jpg"},function(e,t,a){e.exports=a.p+"static/media/amplifier.c1b641bf.jpg"},function(e,t,a){e.exports=a(91)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,,,,,,,,,,,,,function(e,t,a){},function(e,t){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(36),c=a.n(o),l=(a(52),a(2)),i=a(3),s=a(5),u=a(4),m=a(6),p=(a(53),a(54),a(37)),d=a.n(p),h=(a(55),a(7)),f=function(){return r.a.createElement("div",{className:"logo-wrapper"},r.a.createElement(h.b,{className:"logo",to:"/"},r.a.createElement("img",{src:d.a,alt:"MyBurger"})),r.a.createElement(h.b,{className:"logo-text",to:"/"},"Jammer \\m/"))},g=(a(61),a(62),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={drop:!1},a.dropClickHandler=function(){a.setState(function(e){return{drop:!e.drop}})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props.links)}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"dropWrap",onClick:this.dropClickHandler},r.a.createElement("span",{className:"dropBrowse"},"Browse"),r.a.createElement("ul",{className:"navDrop"},this.props.links.map(function(t){return r.a.createElement(h.b,{to:t.value,key:t.name},r.a.createElement("li",{className:e.state.drop?"drop":"dontDrop"},t.name))}))))}}]),t}(r.a.Component)),v=function(e){var t=r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(h.b,{to:"/search"},"Search")),r.a.createElement("li",{onClick:e.authChange},r.a.createElement(h.b,{to:"/"},"Logout")));return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"NavItems"},r.a.createElement("li",null,r.a.createElement(h.b,{to:"/"},"Home")),e.isAuth?t:r.a.createElement("li",{onClick:e.authChange},r.a.createElement(h.b,{to:"/auth/signup"},"Sign up"))),r.a.createElement(g,e))},b=function(e){return r.a.createElement("header",{className:e.scroll?"toolbar scroll":"toolbar"},r.a.createElement(f,null),r.a.createElement(v,e))},j=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={links:[{name:"Home",value:"/"},{name:"Jampads",value:"/jam-pads"},{name:"Bookings",value:"/bookings"}],isAuth:!1,scroll:!1},a.dropClickHandler=function(e,t){console.log(e.target.value),window.location.href=e.target.value},a.checkAuth=function(){localStorage.getItem("token")&&localStorage.getItem("user_id")&&a.setState({isAuth:!0})},a.handleScroll=function(e){var t=window.pageYOffset;t>25&&!0!==a.state.scroll?a.setState({scroll:!0}):t<25&&!1!==a.state.scroll&&a.setState({scroll:!1})},a.authChangeHandler=function(e){console.log(e.target.value),console.log(e.target.innerText),"Logout"===e.target.innerText&&a.setState({isAuth:!1}),localStorage.removeItem("token"),localStorage.removeItem("expiryDate"),localStorage.removeItem("user_id")},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){localStorage.getItem("token")&&localStorage.getItem("user_id")&&this.setState({isAuth:!0})}},{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.handleScroll),window.addEventListener("mousemove",this.checkAuth)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll)}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(b,{scroll:this.state.scroll,click:function(t){return e.dropClickHandler(t)},links:this.state.links,isAuth:this.state.isAuth,authChange:this.authChangeHandler}),r.a.createElement("main",null,this.props.children))}}]),t}(n.Component),y=a(13),E=a(12),O=(a(63),a(64),function(e){var t=r.a.createRef();return r.a.createElement("div",{className:"videoWrap"},r.a.createElement("div",{className:"slogan"},r.a.createElement("p",null,"Jams on you,"),r.a.createElement("p",null,"The lowest price on us")),r.a.createElement("div",{className:"popular"},r.a.createElement("p",null,"Popular on Jam Booker")),r.a.createElement("img",{onClick:function(a){return e.click(a,t)},className:e.isMuted?"sound":"sound muted",alt:"sound Button",src:e.sound}),r.a.createElement("video",{className:"video",autoPlay:!0,muted:!0,loop:!0,src:e.src,ref:t}))}),k=a(40),w=a.n(k),S=(a(65),a(66),function(e){return r.a.createElement(r.a.Fragment,null,e.cards.map(function(e){return r.a.createElement("div",{key:e.location,className:"Jamcard"},r.a.createElement("img",{alt:"jamroom",src:e.pic}),r.a.createElement("span",{className:"name"},e.name),r.a.createElement("span",{className:"location"},e.location),r.a.createElement("span",{className:"price"},"Price range ",e.price))}))}),_=function(e){return r.a.createElement("div",{className:"Cardwrap"},r.a.createElement(S,{cards:e.cards}))},C=(a(67),a(41)),N=a.n(C).a.create({baseURL:"https://jammer-server.herokuapp.com"}),P=a(16),I=a.n(P),D=a(17),x=a.n(D),A=a(18),H=a.n(A),L=a(19),T=a.n(L),z=a(42),B=a.n(z);function q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function V(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?q(a,!0).forEach(function(t){Object(E.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):q(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var F=[I.a,x.a,H.a,T.a],M=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={jampads:[],muted:!1},a.soundClickHandler=function(e,t){a.setState(function(e){return{muted:!e.muted}}),t.current.muted=a.state.muted},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;N.get("/jamcards").then(function(t){var a=[];for(var n in t.data.jamcards)a.push(V({},t.data.jamcards[n],{pic:F[n],id:n}));e.setState({jampads:a})}).catch(function(e){return console.log("error!!!",e)})}},{key:"render",value:function(){return r.a.createElement("div",{className:"home"},r.a.createElement(O,{isMuted:this.state.muted,click:this.soundClickHandler,src:B.a,sound:w.a}),r.a.createElement(_,{cards:this.state.jampads}))}}]),t}(n.Component),J=(a(85),a(86),a(87),a(88),function(e){return r.a.createElement(r.a.Fragment,null,e.jampads.map(function(t){return r.a.createElement("div",{onClick:function(){return e.click(t.name)},key:t.location,className:"jamcard"},r.a.createElement("img",{alt:"jamroom",src:t.pic}),r.a.createElement("span",{className:"name"},t.name),r.a.createElement("span",{className:"location"},t.location),r.a.createElement("span",{className:"price"},"Price range ",t.price))}))}),W=function(e){return r.a.createElement("div",{className:"searchwrap"},r.a.createElement(J,e))},$=(a(89),a(90),function(e){return r.a.createElement("div",{className:"equipments"},r.a.createElement(r.a.Fragment,null,e.equipment.map(function(e){return r.a.createElement("div",{key:e.id,className:"details"},e.id," : ",e.key)})))}),R=a(43),Y=a.n(R),U=a(44),G=a.n(U),K=a(45),Q=a.n(K),X=a(46),Z=a.n(X),ee=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={equipment:[],price:0},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("token");N.get("/room_details?room_name="+this.props.room_name,{headers:{Authorization:"Bearer "+t}}).then(function(t){var a=[];for(var n in t.data.equipment)a.push({key:t.data.equipment[n],id:n});e.setState({equipment:a}),console.log(e.state)}).catch(function(e){return console.log("error!!!",e)})}},{key:"render",value:function(){return r.a.createElement("div",{className:"details_wrap"},r.a.createElement("p",null,this.props.room_name),r.a.createElement("div",{className:"img1_wrapper"},r.a.createElement("img",{src:Y.a,className:"img"}),r.a.createElement("img",{src:G.a,className:"img"})),r.a.createElement("div",{className:"img2_wrapper"},r.a.createElement("img",{src:Q.a,className:"img"}),r.a.createElement("img",{src:Z.a,className:"img"})),r.a.createElement($,Object.assign({},this.props,{equipment:this.state.equipment})))}}]),t}(r.a.Component);function te(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function ae(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?te(a,!0).forEach(function(t){Object(E.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):te(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var ne=[I.a,x.a,H.a,T.a],re=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={jam_pad:null,jampads:[]},a.rent_click_handler=function(e){console.log("clicked!"),a.setState({jam_pad:e},function(){console.log(a.state.jam_pad),console.log(a.props.match.url+"/"+e),a.props.history.push(a.props.match.url+"/"+e)})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("token");this.backListener=this.props.history.listen(function(t){"/search"==e.props.history.location.pathname&&e.setState({jam_pad:null})}),N.get("/search",{headers:{Authorization:"Bearer "+t}}).then(function(t){var a=[];for(var n in t.data.jamcards)a.push(ae({},t.data.jamcards[n],{pic:ne[n],id:n}));e.setState({jampads:a})}).catch(function(e){return console.log("error!!!",e)})}},{key:"render",value:function(){var e,t=this;return this.state.jam_pad||(e=r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Available jam rooms for rent"),r.a.createElement(W,{click:this.rent_click_handler,jampads:this.state.jampads}))),r.a.createElement("div",{className:"Search"},e,r.a.createElement(y.a,{path:this.props.match.url+"/"+this.state.jam_pad,render:function(e){return r.a.createElement(ee,{room_name:t.state.jam_pad})}}))}}]),t}(r.a.Component),oe=a(20),ce=a.n(oe),le=function(e){var t=null,a=[ce.a.InputElement],n=null;switch(e.invalid&&e.shouldValidate&&e.touched&&(a.push(ce.a.Invalid),n=r.a.createElement("p",null,"Please enter a valid value!")),e.elementType){case"input":t=r.a.createElement("input",Object.assign({onChange:e.changed,className:a.join(" ")},e.elementConfig,{value:e.value}));break;case"textarea":t=r.a.createElement("textarea",Object.assign({onChange:e.changed,className:a.join(" ")},e.elementConfig,{value:e.value}));break;case"select":t=r.a.createElement("select",{onChange:e.changed,className:a.join(" "),value:e.value},e.elementConfig.options.map(function(e){return r.a.createElement("option",{key:e.value,value:e.value}," ",e.displayValue)}));break;default:t=r.a.createElement("input",Object.assign({className:a.join(" ")},e.elementConfig,{value:e.value}))}return r.a.createElement("div",{className:ce.a.Input},t,n)},ie=a(24),se=a.n(ie),ue=function(e){return r.a.createElement("button",{onClick:e.clicked,disabled:e.disabled,className:[se.a.Button,se.a[e.btnType]].join(" ")},e.children)};a(35);function me(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function pe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?me(a,!0).forEach(function(t){Object(E.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):me(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var de=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={controls:{email:{elementType:"input",elementConfig:{type:"email",placeholder:"Your email"},value:"",validation:{required:!0,isEmail:!0},valid:!1,touched:!1},password:{elementType:"input",elementConfig:{type:"password",placeholder:"Password"},value:"",validation:{required:!0,minLength:6},valid:!1,touched:!1}},formIsValid:!1},a.checkValidity=function(e,t){var a=!0;if(t.required&&(a=""!==e.trim()&&a),t.minLength&&(a=e.length>=t.minLength&&a),t.maxLength&&(a=e.length<=t.minLength&&a),t.isEmail){a=/[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(e)&&a}return a},a.inputChangedHandler=function(e,t){var n=pe({},a.state.controls,Object(E.a)({},t,pe({},a.state.controls[t],{value:e.target.value,valid:a.checkValidity(e.target.value,a.state.controls[t].validation),touched:!0}))),r=!0;for(var o in n)r=n[o].valid&&r;a.setState({controls:n,formIsValid:r})},a.swicthAuthHandler=function(){a.props.history.push("/auth/signup")},a.formSubmitHandler=function(e){e.preventDefault();var t={email:a.state.controls.email.value,password:a.state.controls.password.value};console.log("calling signin"),N.post("/auth/signin",t).then(function(e){localStorage.setItem("token",e.data.token),localStorage.setItem("user_id",e.data.user_id);localStorage.setItem("expiryDate",36e5),a.setAutoLogout(36e5),console.log("signin complete",e),a.props.history.replace("/")}).catch(function(e){return console.log("Sign in failed!")})},a.setAutoLogout=function(e){setTimeout(function(){a.logoutHandler()},e)},a.logoutHandler=function(){a.setState({isAuth:!1,token:null}),localStorage.removeItem("token"),localStorage.removeItem("expiryDate"),localStorage.removeItem("user_id")},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=[];for(var a in this.state.controls)t.push({id:a,config:this.state.controls[a]});var n=t.map(function(t){return r.a.createElement(le,{changed:function(a){return e.inputChangedHandler(a,t.id)},key:t.id,elementType:t.config.elementType,elementConfig:t.config.elementConfig,value:t.config.value,invalid:!t.config.valid,shouldValidate:t.config.validation,touched:t.config.touched})});return r.a.createElement("div",{className:"Auth"},r.a.createElement("form",{onSubmit:this.formSubmitHandler},n,r.a.createElement(ue,{btnType:"Success",disabled:!this.state.formIsValid},"Login"),r.a.createElement(ue,{btnType:"Danger",clicked:this.swicthAuthHandler},"Sign up instead?")))}}]),t}(r.a.Component);function he(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function fe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?he(a,!0).forEach(function(t){Object(E.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):he(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var ge=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={controls:{name:{elementType:"input",elementConfig:{type:"text",placeholder:"Your Name"},value:"",validation:{required:!0},valid:!1,touched:!1},email:{elementType:"input",elementConfig:{type:"email",placeholder:"Your email"},value:"",validation:{required:!0,isEmail:!0},valid:!1,touched:!1},password:{elementType:"input",elementConfig:{type:"password",placeholder:"Password"},value:"",validation:{required:!0,minLength:6},valid:!1,touched:!1}},formIsValid:!1},a.checkValidity=function(e,t){var a=!0;if(t.required&&(a=""!==e.trim()&&a),t.minLength&&(a=e.length>=t.minLength&&a),t.maxLength&&(a=e.length<=t.minLength&&a),t.isEmail){a=/[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(e)&&a}return a},a.inputChangedHandler=function(e,t){var n=fe({},a.state.controls,Object(E.a)({},t,fe({},a.state.controls[t],{value:e.target.value,valid:a.checkValidity(e.target.value,a.state.controls[t].validation),touched:!0}))),r=!0;for(var o in n)r=n[o].valid&&r;a.setState({controls:n,formIsValid:r})},a.formSubmitHandler=function(e){e.preventDefault();var t={name:a.state.controls.name.value,email:a.state.controls.email.value,password:a.state.controls.password.value};console.log("calling signup"),N.put("/auth/signup",t).then(function(e){a.props.history.replace("/auth/signin")}).catch(function(e){return console.log("Sign up failed!")})},a.swicthAuthHandler=function(){a.props.history.push("/auth/signin")},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=[];for(var a in this.state.controls)t.push({id:a,config:this.state.controls[a]});var n=t.map(function(t){return r.a.createElement(le,{changed:function(a){return e.inputChangedHandler(a,t.id)},key:t.id,elementType:t.config.elementType,elementConfig:t.config.elementConfig,value:t.config.value,invalid:!t.config.valid,shouldValidate:t.config.validation,touched:t.config.touched})});return r.a.createElement("div",{className:"Auth"},r.a.createElement("form",{onSubmit:this.formSubmitHandler},n,r.a.createElement(ue,{btnType:"Success",disabled:!this.state.formIsValid},"Signup"),r.a.createElement(ue,{btnType:"Danger",clicked:this.swicthAuthHandler},"Sign in instead?")))}}]),t}(r.a.Component),ve=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(j,null,r.a.createElement(y.a,{path:"/",exact:!0,component:M}),r.a.createElement(y.a,{path:"/auth/signup",exact:!0,component:ge}),r.a.createElement(y.a,{path:"/auth/signin",exact:!0,component:de}),r.a.createElement(y.a,{path:"/search",component:re})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var be=r.a.createElement(h.a,null,r.a.createElement(ve,null));c.a.render(be,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[47,1,2]]]);
//# sourceMappingURL=main.1d23ee06.chunk.js.map